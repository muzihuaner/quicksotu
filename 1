<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body>

  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#searchModal">打开以图搜图</button>

  <!-- 模态框 -->
  <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="searchModalLabel">以图搜图</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="searchForm">
            <input type="text" name="imageUrl" placeholder="输入图片 URL" style="width: 250px;" /> <br>
            <label>
              <input type="radio" name="searchEngine" value="Google Lens" checked />Google Lens
            </label>
            <label>
              <input type="radio" name="searchEngine" value="TinEye" />TinEye
            </label>
            <label>
              <input type="radio" name="searchEngine" value="Yandex" />Yandex
            </label>
            <label>
              <input type="radio" name="searchEngine" value="Bing" />Bing
            </label>
            <label>
              <input type="radio" name="searchEngine" value="Sogou" />Sogou
            </label>
            <label>
              <input type="radio" name="searchEngine" value="Baidu" checked="checked" />Baidu
            </label>
            <label>
              <input type="radio" name="searchEngine" value="Trace" />Trace
            </label>
            <label>
              <input type="radio" name="searchEngine" value="SauceNAO" />SauceNAO
            </label>
            <label>
              <input type="radio" name="searchEngine" value="IQDB" />IQDB
            </label>
            <label>
              <input type="radio" name="searchEngine" value="3DIQDB" />3DIQDB
            </label>
            <label>
              <input type="radio" name="searchEngine" value="ascii2d" />ascii2d
            </label> <br>
            <input type="button" id="searchButton" value="搜一下" onClick="searchImage()" />
          </form>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function searchImage() {
      const imageUrl = document.querySelector('input[name="imageUrl"]').value;
      const selectedEngine = document.querySelector('input[name="searchEngine"]:checked').value;
      const searchUrls = {
        "Google Lens": "https://lens.google.com/uploadbyurl?url=" + imageUrl,
        "TinEye": "https://www.tineye.com/search/?url=" + imageUrl,
        "Yandex": "https://yandex.com/images/search?url=" + imageUrl + "&rpt=imageview",
        "Bing": "https://www.bing.com/images/search?q=imgurl:" + imageUrl + "&view=detailv2&iss=sbi",
        "Sogou": "https://pic.sogou.com/ris?query=https%3A%2F%2Fimg03.sogoucdn.com%2Fv2%2Fthumb%2Fretype_exclude_gif%2Fext%2Fauto%3Fappid%3D122%26url=" + imageUrl + "&flag=1&drag=0",
        "Baidu": "https://graph.baidu.com/details?isfromtusoupc=1&tn=pc&carousel=0&promotion_name=pc_image_shituindex&extUiData%5bisLogoShow%5d=1&image=" + imageUrl,
        "Trace": "https://trace.moe/?url=" + imageUrl,
        "SauceNAO": "https://saucenao.com/search.php?db=999&url=" + imageUrl,
        "IQDB": "https://iqdb.org/?url=" + imageUrl,
        "3DIQDB": "https://3d.iqdb.org/?url=" + imageUrl,
        "ascii2d": "https://ascii2d.net/search/url/" + imageUrl
      };
      window.open(searchUrls[selectedEngine]);
    }
  </script>
</body>

</html>